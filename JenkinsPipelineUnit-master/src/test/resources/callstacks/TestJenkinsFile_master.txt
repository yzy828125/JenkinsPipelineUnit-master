   Jenkinsfile.run()
      Jenkinsfile.stage(Build, groovy.lang.Closure)
         Jenkinsfile.node(groovy.lang.Closure)
            Jenkinsfile.checkout({$class=GitSCM, branches=[{name=master}], extensions=[], userRemoteConfigs=[{credentialsId=gitlab_git_ssh, url=github.com/lesfurets/JenkinsPipelineUnit.git}]})
            Jenkinsfile.echo(Running mvn deploy on branch master)
            Jenkinsfile.sh(mkdir -p ~/.gnupg)
            Jenkinsfile.file({credentialsId=gpg-pubring, variable=GPG_PUB_RING})
            Jenkinsfile.file({credentialsId=gpg-secring, variable=GPG_SEC_RING})
            Jenkinsfile.file({credentialsId=gradle-settings, variable=GRADLE_SETTINGS})
            Jenkinsfile.withCredentials([GPG_PUB_RING, GPG_SEC_RING, GRADLE_SETTINGS], groovy.lang.Closure)
               Jenkinsfile.sh(./gradlew deploy -P signing.secretKeyRingFile=GPG_SEC_RING -P extProps=GRADLE_SETTINGS)
               Jenkinsfile.archiveArtifacts(build/libs/*.jar)
               Jenkinsfile.archiveArtifacts(build/libs/*.asc)
               Jenkinsfile.archiveArtifacts(build/poms/*.xml)
               Jenkinsfile.archiveArtifacts(build/poms/*.asc)
               Jenkinsfile.junit({allowEmptyResults=true, testResults=build/test-results/test/*.xml})
            Jenkinsfile.step({$class=WsCleanup})
